
This sucks, but it's better than what OFW was giving us.

Index: b/grub-core/kern/ieee1275/init.c
===================================================================
--- a/grub-core/kern/ieee1275/init.c
+++ b/grub-core/kern/ieee1275/init.c
@@ -61,6 +61,7 @@
   grub_ieee1275_exit ();
 }
 
+#ifndef __i386__
 /* Translate an OF filesystem path (separated by backslashes), into a GRUB
    path (separated by forward slashes).  */
 static void
@@ -75,6 +76,7 @@
       backslash = grub_strchr (filepath, '\\');
     }
 }
+#endif
 
 void (*grub_ieee1275_net_config) (const char *dev,
 				  char **device,
@@ -82,10 +84,15 @@
 void
 grub_machine_get_bootlocation (char **device, char **path)
 {
+#ifndef __i386__
   char bootpath[64]; /* XXX check length */
   char *filename;
   char *type;
+#endif
    
+#ifdef __i386__
+  grub_env_set ("prefix", "(sd,1)/");
+#else
   if (grub_ieee1275_get_property (grub_ieee1275_chosen, "bootpath", &bootpath,
 				  sizeof (bootpath), 0))
     {
@@ -132,6 +139,7 @@
 	  *path = filename;
 	}
     }
+#endif
 }
 
 /* Claim some available memory in the first /memory node. */
